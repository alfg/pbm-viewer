(function(t){function e(e){for(var r,s,h=e[0],o=e[1],u=e[2],c=0,f=[];c<h.length;c++)s=h[c],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(f.length)f.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,h=1;h<a.length;h++){var o=a[h];0!==i[o]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},i={index:0},n=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/pbm-viewer/";var h=window["webpackJsonp"]=window["webpackJsonp"]||[],o=h.push.bind(h);h.push=e,h=h.slice();for(var u=0;u<h.length;u++)e(h[u]);var l=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=a("5f5b"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{type:"dark",variant:"dark"}},[a("div",{staticClass:"container"},[a("b-navbar-nav",[a("b-nav-item",{attrs:{href:"#"}},[t._v(" PBM Viewer ")])],1)],1)]),a("div",{staticClass:"container",attrs:{id:"app"}},[a("h3",[t._v("PPM, PGM, and PBM Viewer")]),a("hr"),a("Viewer")],1),a("footer",{staticClass:"container mt-4 text-center"},[a("hr"),a("div",{staticClass:"text-muted"},[a("ul",[a("li",[t._v(t._s(t.name)+"-"+t._s(t.version))]),t._m(0),t._m(1)])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/alfg/pbm-viewer"}},[t._v("Source")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{attrs:{href:"https://github.com/alfg/pbm-viewer/issues"}},[t._v("Report Bugs")])])}],h=a("9224"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"viewer"},[a("b-form-file",{attrs:{state:Boolean(t.file),placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},on:{change:t.onFile},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t.file?a("div",{staticClass:"mt-3"},[t._v("Selected file: "+t._s(t.file?t.file.name:""))]):t._e(),t.image?a("img",{attrs:{src:t.image}}):t._e()],1)},u=[],l=a("d4ec"),c=a("bee2"),f=(a("466d"),a("ac1f"),a("d3b7"),a("25f0"),a("a15b"),a("1276"),function(){function t(e){Object(l["a"])(this,t),this._data=e,this._parser=null,this._formatter=null,this.width=null,this.height=null,this.init()}return Object(c["a"])(t,[{key:"init",value:function(){var t=/^(\S+)\s+(#.*?\n)*\s*(\d+)\s+(\d+)\s+(\d+)?\s*/,e=this._data.match(t);if(!e)throw new TypeError("Not a Netpbm file.");var a=this.width=parseInt(e[3],10),r=this.height=parseInt(e[4],10),i=parseInt(e[5],10),n=i<256?1:2,s=this._data.substr(e[0].length);switch(e[1]){case"P1":this._parser=new p(i+" "+s,n),this._formatter=new g(a,r);break;case"P2":this._parser=new p(s,n),this._formatter=new v(a,r,i);break;case"P3":this._parser=new p(s,n),this._formatter=new _(a,r,i);break;case"P4":this._parser=new d(s,n),this._formatter=new g(a,r);break;case"P5":this._parser=new d(s,n),this._formatter=new v(a,r,i);break;case"P6":this._parser=new d(s,n),this._formatter=new _(a,r,i);break;default:throw new TypeError("Format not supported: ",e[1])}}},{key:"getPNG",value:function(){var t=this._formatter.getCanvas(this._parser);return t.toDataURL()}}]),t}()),d=function(){function t(e,a){Object(l["a"])(this,t),this._data=e,this._bytes=a,this._pointer=0}return Object(c["a"])(t,[{key:"getNextSample",value:function(){if(this._pointer>=this._data.length)return!1;for(var t=0,e=0;e<this._bytes;e++)t=255*t+this._data.charCodeAt(this._pointer++);return t}}]),t}(),p=function(){function t(e,a){Object(l["a"])(this,t),this._data=e,this._bytes=a,this._pointer=0}return Object(c["a"])(t,[{key:"getNextSample",value:function(){if(this._pointer>=this._data.length)return!1;for(var t=0,e=0;e<this._bytes;e++)t=255*t+parseInt(this._data[this._pointer++],10);return t}}]),t}(),_=function(){function t(e,a,r){Object(l["a"])(this,t),this._width=e,this._height=a,this._maxVal=r}return Object(c["a"])(t,[{key:"getCanvas",value:function(t){var e,a=document.createElement("canvas"),r=a.getContext("2d");a.width=r.width=this._width,a.height=r.height=this._height,e=r.getImageData(0,0,this._width,this._height);for(var i=0;i<this._height;i++)for(var n=0;n<this._width;n++){var s=255/this._maxVal,h=s*t.getNextSample(),o=s*t.getNextSample(),u=s*t.getNextSample(),l=4*(i*this._width+n);e.data[l]=h,e.data[l+1]=o,e.data[l+2]=u,e.data[l+3]=255}return r.putImageData(e,0,0),a}}]),t}(),v=function(){function t(e,a,r){Object(l["a"])(this,t),this._width=e,this._height=a,this._maxVal=r}return Object(c["a"])(t,[{key:"getCanvas",value:function(t){var e,a=document.createElement("canvas"),r=a.getContext("2d");a.width=r.width=this._width,a.height=r.height=this._height,e=r.getImageData(0,0,this._width,this._height);for(var i=0;i<this._height;i++)for(var n=0;n<this._width;n++){var s=t.getNextSample()*(255/this._maxVal),h=4*(i*this._width+n);e.data[h]=s,e.data[h+1]=s,e.data[h+2]=s,e.data[h+3]=255}return r.putImageData(e,0,0),a}}]),t}(),g=function(){function t(e,a){Object(l["a"])(this,t),this._width=e,this._height=a}return Object(c["a"])(t,[{key:"getCanvas",value:function(t){var e,a=document.createElement("canvas"),r=a.getContext("2d");if(t instanceof d){for(var i,n="",s=Math.ceil(this._width/8),h=0;h<this._height;h++){for(var o=t._data.substr(h*s,s),u="",l=0;l<o.length;l++)u+=("0000000"+o.charCodeAt(l).toString(2)).substr(-8);n+=u.substr(0,this._width)}while(!1!==(i=t.getNextSample()))n+=("0000000"+i.toString(2)).substr(-8);t=new p(n.split("").join(" "),1)}a.width=r.width=this._width,a.height=r.height=this._height,e=r.getImageData(0,0,this._width,this._height);for(var c=0;c<this._height;c++)for(var f=0;f<this._width;f++){var _=255*(1-t.getNextSample()),v=4*(c*this._width+f);e.data[v]=_,e.data[v+1]=_,e.data[v+2]=_,e.data[v+3]=255}return r.putImageData(e,0,0),a}}]),t}(),m=f,b={name:"Viewer",data:function(){return{file:null,image:null}},methods:{onFile:function(t){var e=this,a=t.dataTransfer?t.dataTransfer.files[0]:t.target.files[0],r=new FileReader;r.onload=function(t){var a=t.target.result,r=new m(a);e.image=r.getPNG()},r.readAsBinaryString(a)}}},w=b,y=a("2877"),x=Object(y["a"])(w,o,u,!1,null,"63d977a4",null),O=x.exports,j={name:"App",components:{Viewer:O},data:function(){return{name:h["a"],version:h["b"]}}},P=j,S=(a("034f"),Object(y["a"])(P,n,s,!1,null,null,null)),k=S.exports;a("f9e3"),a("2dd8");r["default"].use(i["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(k)}}).$mount("#app")},"85ec":function(t,e,a){},9224:function(t){t.exports=JSON.parse('{"a":"pbm-viewer","b":"0.1.0"}')}});
//# sourceMappingURL=index.9b19e881.js.map